---
title: ConnectionAsgmtMode
second_title: Справочник по Aspose.Email для .NET API
description: Получает или задает значение определяющее режим выделения соединения в многопоточной среде Существуют следующие типы соединения - Основное соединение создается и удаляется вместе с почтовым клиентом. Его нельзя создать или удалить вручную. - Соединение по умолчанию является соединением по умолчанию для некоторого потока. Если соединение по умолчанию существует и ConnectionAsgmtMode разрешает все методы почтового клиента выполняемые в этом потоке будут неявно использовать это соединение. Для каждого потока может существовать только одно соединение по умолчанию. Он может быть создан вручную или автоматически. Это зависит от свойства EmailClient.ConnectionAsgmtMode. Эти подключения можно создать вручную с помощью метода EmailClient.CreateConnectioncreateAsDefaultConnection  true. Если соединение по умолчанию не используется зависит от режима выделения соединения вместо него неявно используется основное соединение. - Независимые соединения - это соединения которые не связаны с потоками. Они могут быть созданы вручную и должны использоваться явно как параметр метода. Эти подключения можно создать вручную с помощью метода EmailClient.CreateConnection или метода EmailClient.CreateConnectioncreateAsDefaultConnection  false. Существуют следующие типы распределения соединений - ConnectionAsgmtType.UseMainOrDefault Этот режим используется по умолчанию в почтовых клиентах. Почтовый клиент использует основное соединение для всех операций из нескольких потоков если соединение по умолчанию не было создано или соединение не было явно передано как параметр метода. Основное соединение - это соединение которое создается одновременно с почтовым клиентом. Пользователь может создавать соединения по умолчанию для потоков с помощью метода CreateConnection. Если создается подключение по умолчанию для потока оно неявно используется для всех методов почтового клиента которые вызываются в этом потоке. Если соединение по умолчанию для потока не создано основное соединение используется для всех методов почтового клиента которые вызываются в этом потоке. Пользователь также может создавать соединения не связанные с потоками не соединения по умолчанию с помощью метода CreateConnection. Если пользователь хочет использовать другие соединения не основные и не по умолчанию он должен явно передать это соединение как параметр метода который он хочет использовать. Пользователь может дополнительно создавать любое количество подключений. Соединение по умолчанию может быть только одно на поток. Обратите внимание что соединения по умолчанию работают правильно если пользователь использует объекты Thread для многозадачного программирования. Если пользователь использует ConnectionPool или использует объекты Task для многозадачного программирования этот режим может привести к неправильному поведению программы. Чтобы избежать этой проблемы пользователь должен вручную удалить соединение по умолчанию если он его использует в конце кода который выполняется в потоке. - ConnectionAsgmtType.UseMain Почтовый клиент использует основное соединение для всех операций из нескольких потоков. Основное соединение - это соединение которое создается одновременно с почтовым клиентом. Пользователь не может создавать соединения по умолчанию. Пользователь может создавать соединения не связанные с потоками не соединения по умолчанию с помощью метода CreateConnection. Если пользователь хочет использовать другие соединения не основные и не по умолчанию он должен явно передать это соединение как параметр метода который он хочет использовать. Пользователь может дополнительно создавать любое количество подключений. - ConnectionAsgmtType.UseDefault Клиент электронной почты неявно использует только соединения по умолчанию для всех операций из нескольких потоков. Основное соединение в этом режиме не используется. Если для какого-то потока не было создано соединение по умолчанию первый вызов метода почтового клиента почтовый клиент неявно создает соединение по умолчанию для потока перед выполнением первой операции. Пользователь не может создавать подключения по умолчанию для потоков с помощью метода CreateConnection поскольку они создаются автоматически. Когда создается соединение по умолчанию для потока оно неявно используется для всех методов почтового клиента которые вызываются в этом потоке. Пользователь также может создавать соединения не связанные с потоками не соединения по умолчанию с помощью метода CreateConnection. Если пользователь хочет использовать другие соединения не основные и не по умолчанию он должен явно передать это соединение как параметр метода который он хочет использовать. Пользователь может дополнительно создавать любое количество подключений. Соединение по умолчанию может быть только одно на поток. Обратите внимание что соединения по умолчанию работают правильно если пользователь использует объекты Thread для многозадачного программирования. Если пользователь использует ConnectionPool или использует объекты Task для многозадачного программирования этот режим может привести к неправильному поведению программы. Чтобы избежать этой проблемы пользователь должен вручную удалить соединение по умолчанию в конце кода который выполняется в потоке.
type: docs
weight: 30
url: /ru/net/aspose.email.clients/emailclient/connectionasgmtmode/
---
## EmailClient.ConnectionAsgmtMode property

Получает или задает значение, определяющее режим выделения соединения в многопоточной среде Существуют следующие типы соединения: - Основное соединение создается и удаляется вместе с почтовым клиентом. Его нельзя создать или удалить вручную. - Соединение по умолчанию является соединением по умолчанию для некоторого потока. Если соединение по умолчанию существует и ConnectionAsgmtMode разрешает, все методы почтового клиента, выполняемые в этом потоке, будут неявно использовать это соединение. Для каждого потока может существовать только одно соединение по умолчанию. Он может быть создан вручную или автоматически. Это зависит от свойства EmailClient.ConnectionAsgmtMode. Эти подключения можно создать вручную с помощью метода EmailClient.CreateConnection(createAsDefaultConnection = true). Если соединение по умолчанию не используется (зависит от режима выделения соединения), вместо него неявно используется основное соединение. - Независимые соединения - это соединения, которые не связаны с потоками. Они могут быть созданы вручную и должны использоваться явно как параметр метода. Эти подключения можно создать вручную с помощью метода EmailClient.CreateConnection() или метода EmailClient.CreateConnection(createAsDefaultConnection = false). Существуют следующие типы распределения соединений: - ConnectionAsgmtType.UseMainOrDefault Этот режим используется по умолчанию в почтовых клиентах. Почтовый клиент использует основное соединение для всех операций из нескольких потоков, если соединение по умолчанию не было создано или соединение не было явно передано как параметр метода. Основное соединение - это соединение, которое создается одновременно с почтовым клиентом. Пользователь может создавать соединения по умолчанию для потоков с помощью метода CreateConnection. Если создается подключение по умолчанию для потока, оно неявно используется для всех методов почтового клиента, которые вызываются в этом потоке. Если соединение по умолчанию для потока не создано, основное соединение используется для всех методов почтового клиента, которые вызываются в этом потоке. Пользователь также может создавать соединения, не связанные с потоками (не соединения по умолчанию) с помощью метода CreateConnection. Если пользователь хочет использовать другие соединения (не основные и не по умолчанию), он должен явно передать это соединение как параметр метода, который он хочет использовать. Пользователь может дополнительно создавать любое количество подключений. Соединение по умолчанию может быть только одно на поток. Обратите внимание, что соединения по умолчанию работают правильно, если пользователь использует объекты Thread для многозадачного программирования. Если пользователь использует ConnectionPool или использует объекты Task для многозадачного программирования, этот режим может привести к неправильному поведению программы. Чтобы избежать этой проблемы, пользователь должен вручную удалить соединение по умолчанию (если он его использует) в конце кода, который выполняется в потоке. - ConnectionAsgmtType.UseMain Почтовый клиент использует основное соединение для всех операций из нескольких потоков. Основное соединение - это соединение, которое создается одновременно с почтовым клиентом. Пользователь не может создавать соединения по умолчанию. Пользователь может создавать соединения, не связанные с потоками (не соединения по умолчанию) с помощью метода CreateConnection. Если пользователь хочет использовать другие соединения (не основные и не по умолчанию), он должен явно передать это соединение как параметр метода, который он хочет использовать. Пользователь может дополнительно создавать любое количество подключений. - ConnectionAsgmtType.UseDefault Клиент электронной почты неявно использует только соединения по умолчанию для всех операций из нескольких потоков. Основное соединение в этом режиме не используется. Если для какого-то потока не было создано соединение по умолчанию (первый вызов метода почтового клиента), почтовый клиент неявно создает соединение по умолчанию для потока перед выполнением первой операции. Пользователь не может создавать подключения по умолчанию для потоков с помощью метода CreateConnection, поскольку они создаются автоматически. Когда создается соединение по умолчанию для потока, оно неявно используется для всех методов почтового клиента, которые вызываются в этом потоке. Пользователь также может создавать соединения, не связанные с потоками (не соединения по умолчанию) с помощью метода CreateConnection. Если пользователь хочет использовать другие соединения (не основные и не по умолчанию), он должен явно передать это соединение как параметр метода, который он хочет использовать. Пользователь может дополнительно создавать любое количество подключений. Соединение по умолчанию может быть только одно на поток. Обратите внимание, что соединения по умолчанию работают правильно, если пользователь использует объекты Thread для многозадачного программирования. Если пользователь использует ConnectionPool или использует объекты Task для многозадачного программирования, этот режим может привести к неправильному поведению программы. Чтобы избежать этой проблемы, пользователь должен вручную удалить соединение по умолчанию в конце кода, который выполняется в потоке.

```csharp
public virtual ConnectionAsgmtType ConnectionAsgmtMode { get; set; }
```

### Смотрите также

* enum [ConnectionAsgmtType](../../connectionasgmttype)
* class [EmailClient](../../emailclient)
* пространство имен [Aspose.Email.Clients](../../emailclient)
* сборка [Aspose.Email](../../../)

<!-- DO NOT EDIT: generated by xmldocmd for Aspose.Email.dll -->

---
title: DKIMSign
second_title: Aspose.Email for .NET API Reference
description: Signs this message using DKIM DomainKeys Identified Mail signature.
type: docs
weight: 460
url: /net/aspose.email/mailmessage/dkimsign/
---
## MailMessage.DKIMSign method

Signs this message using DKIM (DomainKeys Identified Mail) signature.

```csharp
public virtual MailMessage DKIMSign(RSACryptoServiceProvider rsa, DKIMSignatureInfo signatureInfo)
```

| Parameter | Type | Description |
| --- | --- | --- |
| rsa | RSACryptoServiceProvider | RSA class containing private key used for signing. |
| signatureInfo | DKIMSignatureInfo | DKIM signature information. |

## Examples

The following example shows how to sign Emails with DKIM.

```csharp
[C#]

string privateKeyFile = Path.Combine(RunExamples.GetDataDir_SMTP().Replace("_Send", string.Empty), RunExamples.GetDataDir_SMTP()+ "key2.pem");

RSACryptoServiceProvider rsa = PemReader.GetPrivateKey(privateKeyFile);
DKIMSignatureInfo signInfo = new DKIMSignatureInfo("test", "yandex.ru");
signInfo.Headers.Add("From");
signInfo.Headers.Add("Subject");

MailMessage mailMessage = new MailMessage("useremail@gmail.com", "test@gmail.com");
mailMessage.Subject = "Signed DKIM message text body";
mailMessage.Body = "This is a text body signed DKIM message";
MailMessage signedMsg = mailMessage.DKIMSign(rsa, signInfo);

try
{
    SmtpClient client = new SmtpClient("smtp.gmail.com", 587, "your.email@gmail.com", "your.password");
    client.Send(signedMsg);                
}
finally
{}
```

```csharp
[VB.NET]

    Dim privateKeyFile As String = Path.Combine(RunExamples.GetDataDir_SMTP().Replace("_Send", String.Empty), RunExamples.GetDataDir_SMTP() & "key2.pem")
 
    Dim rsa As RSACryptoServiceProvider = PemReader.GetPrivateKey(privateKeyFile)
    Dim signInfo As DKIMSignatureInfo = New DKIMSignatureInfo("test", "yandex.ru")
    signInfo.Headers.Add("From")
    signInfo.Headers.Add("Subject")
 
    Dim mailMessage As MailMessage = New MailMessage("useremail@gmail.com", "test@gmail.com")
    mailMessage.Subject = "Signed DKIM message text body"
    mailMessage.Body = "This is a text body signed DKIM message"
    Dim signedMsg As MailMessage = mailMessage.DKIMSign(rsa, signInfo)
 
    Try
        Dim client As SmtpClient = New SmtpClient("smtp.gmail.com", 587, "your.email@gmail.com", "your.password")
        client.Send(signedMsg)
    Finally
    End Try

```

### See Also

* class [DKIMSignatureInfo](../../../aspose.email.dkim/dkimsignatureinfo)
* class [MailMessage](../../mailmessage)
* namespace [Aspose.Email](../../mailmessage)
* assembly [Aspose.Email](../../../)

<!-- DO NOT EDIT: generated by xmldocmd for Aspose.Email.dll -->
